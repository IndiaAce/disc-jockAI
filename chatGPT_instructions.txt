# disc-jockAI ğŸµğŸ¤–  
An ML-powered DJ set generator that creates curated music sets based on a given song and set length. Whether you're hosting a party or setting the vibe for a workout, disc-jockAI ensures a seamless musical journey tailored to your preferences.

---

## Features
- **Dynamic Set Generation**: Input a song and desired set length, and generate a playlist that flows smoothly with consistent energy, BPM, and mood.
- **Spotify Integration**: Fetches track data directly from Spotify using its Web API.
- **Feature Engineering**: Utilizes audio features like BPM, energy, and danceability for precise playlist curation.
- **Interactive UI**: (Optional) Use a Streamlit-based interface for an intuitive user experience.

---

## File Structure
```plaintext
dj-set-generator/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ track_features.csv        # Optional local storage for track features
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_data_retrieval.ipynb   # Retrieve and cache track data from Spotify
â”‚   â”œâ”€â”€ 02_exploration.ipynb      # EDA: Analyze BPM, energy, mood distributions
â”‚   â””â”€â”€ 03_model_prototype.ipynb  # Prototype sequence generation model
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ spotify_api.py            # Spotify API helper functions
â”‚   â”œâ”€â”€ feature_engineering.py    # Feature transformations and engineering
â”‚   â””â”€â”€ dj_set_generator.py       # Core logic for DJ set generation
â”œâ”€â”€ app/ 
â”‚   â””â”€â”€ streamlit_app.py          # Streamlit app for optional UI
â”œâ”€â”€ requirements.txt              # Dependencies for the project
â””â”€â”€ README.md                     # Project documentation
```

INSTRUCTIONS - PROJECT FLOW

Absolutelyâ€”this sounds like a fantastic project that combines aspects of recommendation systems, music analysis, and creative sequence generation. Below is a roadmap on how you might build a â€œDJ Setâ€ tool that:
	1.	Takes a seed song and a desired set duration as inputs.
	2.	Outputs a set list of tracks that:
	â€¢	Matches the genre/BPM/feel of the seed song.
	â€¢	Fills (approximately) the desired timespan.
	â€¢	Flows like a DJ setâ€”having musical â€œupsâ€ and â€œdownsâ€ to keep things interesting.

1. Overview of the Approach
	1.	Data Source: Youâ€™ll need track-level features such as BPM, genre, energy, valence, etc.
	â€¢	The most popular option is the Spotify Web API, which provides extensive audio features for each track.
	2.	Core ML / Algorithmic Components:
	â€¢	Similarity: Youâ€™ll want to find tracks similar to the seed track in terms of BPM, key, genre, etc.
	â€¢	Sequence Generation: Youâ€™ll arrange these tracks so that they have an organic â€œflowâ€ and fill up a certain time.
	3.	Implementation Steps:
	â€¢	Retrieve Features of the seed song and potential candidate tracks (via Spotify API).
	â€¢	Build a Database (local or dynamic) of track features.
	â€¢	Compute Similarities / Distances among tracks.
	â€¢	Sequence or â€œPathâ€ Generation that meets time and musical flow constraints.
	â€¢	Output: A curated track list that fits the desired duration.
	4.	Optional Enhancements:
	â€¢	A â€œflow curveâ€ for energy or BPM across the set.
	â€¢	A more advanced approach that uses reinforcement learning or Markov chain style sequence modeling.
	â€¢	A web or GUI front-end (e.g., Streamlit or Gradio) where users pick a seed track and set duration.

2. Data Gathering

2.1. Setting Up Spotify API (Spotipy)
	â€¢	Create a Spotify Developer Account:
	1.	Go to Spotify for Developers
	2.	Create an app to get Client ID and Client Secret.
	â€¢	Install Spotipy (Python wrapper for Spotify Web API):

pip install spotipy


	â€¢	Authorize your application to access data. In your Python code:

import spotipy
from spotipy.oauth2 import SpotifyClientCredentials

client_credentials_manager = SpotifyClientCredentials(
    client_id='YOUR_SPOTIFY_CLIENT_ID',
    client_secret='YOUR_SPOTIFY_CLIENT_SECRET'
)
sp = spotipy.Spotify(client_credentials_manager=client_credentials_manager)



2.2. Fetch Audio Features

Spotifyâ€™s /audio-features endpoint returns:
	â€¢	danceability (0-1)
	â€¢	energy (0-1)
	â€¢	key (0-11)
	â€¢	loudness (decibels)
	â€¢	mode (major or minor)
	â€¢	speechiness (0-1)
	â€¢	acousticness (0-1)
	â€¢	instrumentalness (0-1)
	â€¢	liveness (0-1)
	â€¢	valence (0-1)
	â€¢	tempo (â‰ˆ BPM)
	â€¢	duration_ms (track length in ms)

You can also retrieve genre information by first searching or looking up the artistâ€™s information.

3. Project Structure

Listed above in the README is the project structure 

4. Modeling the â€œDJ Setâ€ Generation

4.1. Phase 1: Simple Similarity / Filter Approach
	1.	Input: Seed track, desired duration (minutes).
	2.	Extract the seedâ€™s core features: BPM, energy, valence, genre, etc.
	3.	Filter your database of tracks to those within a certain BPM range (Â± 5 or 10 BPM from the seed?), same or similar genre, etc.
	4.	Rank these candidates by how close they match the seedâ€™s energy and valence.

Creating the Set:
	â€¢	Pick the next track that is most similar but not too similar.
	â€¢	Keep a running total of duration. Once you exceed or meet the requested duration Â± a small buffer (e.g., Â±2 minutes), stop.

Pros: Fast, straightforward.
Cons: Doesnâ€™t create an â€œarcâ€ or â€œflowâ€â€”it mostly stays near the seed trackâ€™s vibe.

4.2. Phase 2: Introducing a â€œFlow Curveâ€

To simulate a DJ setâ€™s natural ups and downs, define a target â€œenergy curveâ€ over time. For example, a set might have:
	1.	Low energy at the start (warm-up).
	2.	Gradual rise to peak energy around the midpoint.
	3.	A gentle cooldown near the end.

You can predefine or randomly generate a curve of â€œdesired energyâ€ (or BPM or valence) as a function of the fraction of the setâ€™s total duration:

ï¿¼

Then, for each â€œslotâ€ in your set:
	1.	Identify candidate tracks that have an energy close to ï¿¼.
	2.	Among those, pick a track that transitions smoothly from the previous trackâ€™s BPM and key.
	3.	Keep adding tracks until you reach or slightly exceed the target duration.

Distance or Cost Function
You might define a distance ï¿¼ for each transition from track ï¿¼ to track ï¿¼ as:

ï¿¼

where ï¿¼ penalizes big jumps in musical key.

You then try to minimize the sum of these transition costs while also following your overall energy curve.

Implementation
	â€¢	Could be a greedy approach that picks the next best track at each step.
	â€¢	Or a dynamic programming / shortest path approach if you want the global optimum sequence.

4.3. Phase 3: Advanced / ML Approaches
	1.	Markov Chain / Next-Track Prediction
	â€¢	You could train a Markov chain or next-track predictor using historical DJ sets (if you have that data).
	â€¢	This would learn typical transitions in real-world DJ sets.
	2.	Reinforcement Learning
	â€¢	Think of each track selection as a step in an episode, with a reward function that rewards smooth transitions and punishes abrupt changes.
	â€¢	The agent learns a policy that picks the best next track.
	3.	Neural Networks
	â€¢	Build a sequence model (e.g., an RNN or Transformer) that tries to predict track sequences given the desired â€œenergy arc.â€

5. Putting it All Together

5.1. Minimal Viable Product (MVP)
	1.	Local Database
	â€¢	Start with a few hundred (or thousand) tracks from Spotify that you personally like or that are popular.
	â€¢	Save their features (BPM, energy, valence, duration, etc.) in a CSV.
	2.	Simple Script
	â€¢	Input: Seed Track ID, desired minutes.
	â€¢	Output: A list of track IDs or names that sum up close to that duration.
	â€¢	Filter by a BPM range around the seed, same or similar genre.
	â€¢	Try a simple â€œflowâ€ where you gradually go up in BPM or energy from track to track.
	3.	Manual Testing
	â€¢	Print out the final tracklist.
	â€¢	Check if the total time is correct.
	â€¢	Listen to see if it flows logically.

5.2. Demo UI (Optional but Fun)
	â€¢	Streamlit:

pip install streamlit

Then create streamlit_app.py:

import streamlit as st
from dj_set_generator import generate_set_list  # hypothetical function

st.title("DJ Set Generator")

seed_track = st.text_input("Enter Seed Track Name")
desired_duration = st.slider("Set Duration (minutes)", 10, 180, 60)

if st.button("Generate Set"):
    set_list = generate_set_list(seed_track, desired_duration)
    for track in set_list:
        st.write(track)


	â€¢	Gradio: Another popular option for quick UIs.

6. Project Roadmap
	1.	Phase 1: Implement basic track similarity and time-based set generation.
	2.	Phase 2: Add an energy curve or BPM transitions for a more dynamic flow.
	3.	Phase 3: Explore advanced techniques (Markov chains, RL, or sequence models).
	4.	Phase 4: Add a front-end or deploy as a web service so friends/recruiters can try it live.
	5.	Phase 5: Expand your database to thousands of tracks to make sets more diverse.

7. Practical Tips & Considerations
	1.	Spotify Rate Limits: Watch out for how many requests you make. Cache results locally.
	2.	Exact Duration vs. Approximate: Itâ€™s often tricky to hit the set length exactly. Typically, a Â±1â€“2 minute margin is acceptable.
	3.	Genre Classification: Spotifyâ€™s genre info is mostly at the artist level. You might combine that with track features to refine your approach.
	4.	Key Matching: If you really want to match like a pro DJ, consider the Camelot key wheel to find harmonically compatible keys.
	5.	User Interaction: Let users â€œthumbs upâ€ or â€œthumbs downâ€ certain recommendations to refine suggestions over time (collaborative filtering style).

8. Example Workflow
	1.	User: Enters â€œDaft Punk â€“ One More Timeâ€ as the seed track, and selects a 60-minute set.
	2.	System:
	1.	Fetch Daft Punkâ€™s â€œOne More Timeâ€ track features from the cached DB or Spotify.
	2.	Filter potential tracks by BPM in the range [110, 130], same or similar genre tags (house, dance, electronic, etc.).
	3.	Sort them by closeness in energy/valence.
	4.	Construct a sequence of tracks, ensuring the total duration is around 60 minutes.
	5.	If advanced, incorporate a â€œflow curveâ€ to vary the energy.
	3.	Output: A curated list of track URIs or names that fit the vibe and duration.

Final Thoughts

Building this â€œDJ Setâ€ generator is an awesome way to showcase:
	â€¢	API consumption skills (Spotify).
	â€¢	Data manipulation & ML for sequence generation.
	â€¢	Creativity in designing a system that simulates real DJ flow.
	â€¢	Engineering a user-friendly interface and distributing it via GitHub.

Itâ€™s also highly extensibleâ€”once you have the core logic working, you can keep refining it to make the set transitions smarter and more interesting.

Good luck, have fun, and let the beats roll!